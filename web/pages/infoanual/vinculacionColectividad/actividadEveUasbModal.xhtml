<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:f="http://java.sun.com/jsf/core">
    
    <h:panelGrid columns="2" id="datosactevenuasb">
        <h:outputText  value="Programa*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gecprograma">
            <p:selectOneMenu value="#{vinculacion.smacteveprograma.value}" 
                             id="iprograma"
                             required="true"  requiredMessage="Actividades y Eventos UASB/Programa: se requiere un valor">
                <f:selectItem  itemLabel="Escoja uno.." itemValue="" />
                <f:selectItems  value="#{vinculacion.listAreVinc}" var="lareaeducont" itemLabel="#{lareaeducont.avcNombre}" itemValue="#{lareaeducont.avcCodigo}"/>  
                <p:ajax update="gecprograma gecproyecto" listener="#{vinculacion.programavalueChangeListener}"/>  
            </p:selectOneMenu> 
            <p:message for="iprograma" display="icon"/>
        </h:panelGrid>
        <h:outputText  value="Proyecto*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gecproyecto">
            <p:selectOneMenu value="#{vinculacion.smacteveproyecto.value}" 
                             id="iproyecto"
                             required="true"  requiredMessage="Actividades y Eventos UASB/Proyecto: se requiere un valor">
                <f:selectItem  itemLabel="Escoja uno.." itemValue="" />
                <f:selectItems  value="#{vinculacion.listDetVinc}" var="ldeteducont" itemLabel="#{ldeteducont.davcNombre}" itemValue="#{ldeteducont.davcCodigo}"/>  
                <p:ajax update="gecproyecto"  immediate="true"/>  
            </p:selectOneMenu> 
            <p:message for="iproyecto" display="icon"/>
        </h:panelGrid>
        <h:outputText  value="Tipo actividad*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gectipactividad">
            <p:selectOneMenu value="#{vinculacion.smdtipactactevuasb.value}" id="itipactividad"
                             required="true"  requiredMessage="Actividades y Eventos UASB/Tipo Actividad: se requiere un valor" >
                <f:selectItem  itemLabel="Escoja uno.." itemValue="" />
                <f:selectItem  itemLabel="Seminarios" itemValue="5" />
                <f:selectItem  itemLabel="Congresos" itemValue="6" />                                                                                            
                <f:selectItem  itemLabel="Simposios" itemValue="7" />     
                <f:selectItem  itemLabel="Conferencias" itemValue="8" />
                <f:selectItem  itemLabel="Encuentros" itemValue="9" />
                <f:selectItem  itemLabel="Conversatorios" itemValue="10" />
                <f:selectItem  itemLabel="Coloquios" itemValue="11" />
                <f:selectItem  itemLabel="Mesas Redondas" itemValue="12" />
                <f:selectItem  itemLabel="Foros" itemValue="13" />
                <f:selectItem  itemLabel="Talleres específicos" itemValue="14" />                        
                <p:ajax update="gectipactividad"  immediate="true"/>  
            </p:selectOneMenu> 
            <p:message for="itipactividad" display="icon"/>
        </h:panelGrid>
        <h:outputText  value="Nombre Actividad*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gecnomactividad">
            <h:inputText binding="#{vinculacion.itxtnomactiactevuasb}" id="inomactividad" style=" width: 150px; text-transform: uppercase"
                         required="true"  requiredMessage="Actividades y Eventos UASB/Nombre Actividad: se requiere un valor">
                <p:ajax update="gecnomactividad"  immediate="true"/>  
            </h:inputText>
            <p:message for="inomactividad" display="icon"/>
        </h:panelGrid>
        <h:outputText  value="Rol Docente*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="groldocente">
            <p:selectOneMenu value="#{vinculacion.smacteveconroldoc.value}" id="iroldocente"
                             required="true" requiredMessage="Actividades y Eventos UASB/Rol Docente: se requiere un valor"
                             style="font-size: 7pt">
                <f:selectItem  itemLabel="Escoja uno.." itemValue="" />
                <f:selectItem  itemLabel="Organizador" itemValue="O" />
                <f:selectItem  itemLabel="Expositor" itemValue="E" />                                                          
                <f:selectItem  itemLabel="Moderador" itemValue="M" /> 
                <p:ajax update="groldocente" immediate="true"/>
            </p:selectOneMenu> 
            <p:message for="iroldocente" display="icon"/>
        </h:panelGrid>                

        <h:outputText  value="Fecha Inicio*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gfeciniacteve">
            <p:calendar  value="#{vinculacion.dfeciniactevuasb}" 
                         pattern="dd/MM/yyyy"    timeZone="America/Guayaquil"  locale="es"
                         id="fecinicio" required="true" requiredMessage="Actividades y Eventos UASB/Fecha Inicio: se requiere un valor"
                         mindate="#{vinculacion.feciniciclo}" maxdate="#{vinculacion.fecfinciclo}">
                <p:ajax update="gfeciniacteve" immediate="true"/>
            </p:calendar>
            <p:message for="fecinicio" display="icon"/>
        </h:panelGrid>

        <h:outputText  value="Fecha Fin*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gfecfinacteve">
            <p:calendar  value="#{vinculacion.dfecfinactevuasb}" 
                         pattern="dd/MM/yyyy"    timeZone="America/Guayaquil" locale="es"
                         id="fecfin" required="true" requiredMessage="Actividades y Eventos UASB/Fecha Fin: se requiere un valor" 
                         mindate="#{vinculacion.feciniciclo}">
                <p:ajax update="gfecfinacteve" immediate="true"/>
            </p:calendar>
            <p:message for="fecfin" display="icon"/>
        </h:panelGrid>

        <h:outputText  value="N° Horas Preparación*" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="ghpreparacion">
            <p:inputMask mask="9?9" id="inumhprep" value="#{vinculacion.snumhprep}" 
                         style=" width: 50px; text-align: center" validatorMessage="Actividades y Eventos UASB/N° Horas Preparación." >
                <f:validateLongRange  minimum="1"  /> 
                <p:ajax update="ghpreparacion" immediate="true"/>
            </p:inputMask> 
            <p:message for="inumhprep" display="icon"/>
        </h:panelGrid>
        <h:outputText  value="Institución cofinanciadora:" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gconf">
            <p:selectOneRadio id="icofin"  value="#{vinculacion.sactevecofinan}"
                              required="true"  requiredMessage="Debe indicar si existe o no Cofinanciamiento">  
                <f:selectItem itemLabel="Si" itemValue="0" />  
                <f:selectItem itemLabel="No" itemValue="1" />   
                <p:ajax event="click"  update="gconf finggeneral:gdatinstcofin" immediate="true" />                        
            </p:selectOneRadio> 
            <p:message for="icofin" display="icon"/>
        </h:panelGrid>
    </h:panelGrid>
    <h:panelGrid columns="2" id="gdatinstcofin" style="visibility: #{vinculacion.sactevecofinan eq 0? 'show': 'hidden'}">
        <h:outputText  value="Tipo Institución:" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gtipinstit" >
            <p:selectOneMenu value="#{vinculacion.smtipinstactevuasb.value}" 
                             required="true"  requiredMessage="Actividades y Eventos UASB/Tipo Institución: se requiere un valor"
                             id="itipinsti"
                             disabled="#{vinculacion.sactevecofinan ne '0'}">
                <f:selectItem  itemLabel="Escoja uno.." itemValue="" />
                <f:selectItem  itemLabel="Estado" itemValue="E" />
                <f:selectItem  itemLabel="Organismo Internacional" itemValue="C" />                                                                                                                                                 
                <f:selectItem  itemLabel="ONG" itemValue="O" /> 
                <f:selectItem  itemLabel="Empresa privada" itemValue="M" /> 
                <f:selectItem  itemLabel="Organización social" itemValue="R" /> 
                <f:selectItem  itemLabel="Universidad" itemValue="U" /> 
                <f:selectItem  itemLabel="Otra instancia académica" itemValue="T" /> 
                <p:ajax  update="gtipinstit" immediate="true" />                        
            </p:selectOneMenu>
            <p:message for="itipinsti" display="icon"/>
        </h:panelGrid>
        <h:outputText  value="Nombre Institución:" style="font-weight: bold"/>
        <h:panelGrid columns="2" id="gnominstit" >
            <h:inputText binding="#{vinculacion.itxtnominstiactevuasb}"
                         required="true"  requiredMessage="Actividades y Eventos UASB/Nombre Institución: se requiere un valor"
                         id="inominsti" style=" width: 150px; text-transform: uppercase"                         
                         disabled="#{vinculacion.sactevecofinan ne '0'}">
                <p:ajax  update="gnominstit" immediate="true" />  
            </h:inputText>
            <p:message for="inominsti" display="icon"/>
        </h:panelGrid> 
    </h:panelGrid>
    <p:commandButton  value="Guardar" id="btnAcEUGuardar"  actionListener="#{vinculacion.SaveActEvUasb}" update=":finggeneral:messagesgeneral :finggeneral:datosactevenuasb :finfoanual:acpinfoanual:infovinculacion:gacteveuasb" />
    <p:commandButton value="Cancelar" id="btnAcEUCancelar" oncomplete="cingdgeneral.hide()"  actionListener="#{vinculacion.CancelActevenUasb}"  update=":finggeneral:datosactevenuasb" immediate="true">
        <p:resetInput target=":finggeneral:datosactevenuasb" /> 
    </p:commandButton>
</ui:composition>